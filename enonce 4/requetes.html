// creation des tables

CREATE TABLE `regions`(
    region_id integer  not null PRIMARY key,
    region_name varchar (25) not null ,
)

CREATE TABLE `jobs`(
    job_id varchar (10) not null PRIMARY key,
    job_title varchar (35)  ,
    min_salary integer,
    max_salary integer
)

CREATE TABLE `job_grades`(
    grade_level varchar (2) not null PRIMARY key,
    lowest_sal integer  ,
    highest_sal integer
)

CREATE TABLE `countries`(
    country_id CHAR (2) not null PRIMARY key,
    country_name varchar (40)  ,
    region_id integer not null,
    FOREIGN KEY (region_id)   REFERENCES regions(region_id) 
)

CREATE TABLE `locations`(
    location_id integer not null PRIMARY key,
    street_address varchar (25)  ,
    postal_code varchar (12),
    city varchar (30),
    state_province varchar (12),
    country_id char (2) ,
    FOREIGN KEY (country_id)   REFERENCES countries(country_id) 
)
CREATE TABLE `departments`(
    department_id integer not null PRIMARY key,
    department_name varchar (30)  ,
    manager_id integer ,
    location_id integer ,
    FOREIGN KEY (location_id)   REFERENCES locations(location_id) 
)

CREATE TABLE `employees`(
    employee_id integer not null PRIMARY key,
    first_name varchar (20)  ,
    last_name varchar (25)  ,
    email varchar (25)  , 
    phone_number varchar (20)  , 
    hire_date date ,
    job_id varchar (20)  ,
    salary integer,
    commission_pct integer,
    manager_id integer ,
    department_id integer ,
    FOREIGN KEY (department_id)   REFERENCES departments(department_id) 
)
CREATE TABLE `job_history`(
    employee_id integer not null ,
    start_date date not null ,
    end_date date,
    job_id varchar (10) ,
    department_id integer ,
    PRIMARY key (employee_id, start_date),
    FOREIGN KEY (employee_id) REFERENCES employees(employee_id),
    FOREIGN KEY (job_id) REFERENCES jobs(job_id),
    FOREIGN KEY (department_id) REFERENCES departments(department_id)
)

// insertion les enregistrements pour chaque table
INSERT INTO regions (region_id,region_name) 
VALUE ('1', 'Europe\r'), ('2', 'Americas\r'), ('3', 'Asia\r'), ('4', 'Middle East and Africa\r')


// 1
select first_name AS prenom , last_name AS nom from employees 
// 2
SELECT DISTINCT department_id from employees
// 3
SELECT *  from employees ORDER BY first_name DESC
// 4
SELECT first_name, last_name , salary , salary * 0.15 AS CP FROM `employees`
//5
SELECT employee_id, first_name, last_name, salary FROM `employees` ORDER BY salary ASC
// 6
SELECT SUM(salary) AS Total_salaries_to_pay FROM `employees` 
//7
SELECT AVG(salary) AS Moyen_salary, COUNT(employee_id) AS Number_employees FROM `employees` 
//8
SELECT COUNT(salary) FROM `employees`
//9
SELECT DISTINCT job_id FROM `employees`
